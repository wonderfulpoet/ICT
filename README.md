# 大模型交互平台

## 简介

大模型交互平台是一个基于Flask的Web应用，允许用户通过浏览器与先进的人工智能模型进行交互。平台支持文本输入、文件上传（包括图片和文档）以及智能联网搜索功能。

## 功能特点

1. **多模型支持**：支持GLM4-Flash、DeepSeek-R1、DeepSeek-V3等多种大型语言模型。
2. **用户管理系统**：支持用户注册、登录功能，管理访问权限。
3. **智能联网搜索**：AI可自动分析问题并决定是否需要联网搜索相关信息。
4. **文件上传与分析**：支持上传文档（PDF、TXT等）和图片（PNG、JPG等）进行分析。
5. **美观的用户界面**：响应式设计，适配各种设备屏幕。
6. **代码高亮**：AI回答中的代码段会自动进行格式化和高亮显示。
7. **暗黑模式**：支持根据系统首选项或手动切换暗黑模式。
8. **文件预览**：支持多种格式文件的预览功能。
9. **免费/高级模型区分**：登录用户可使用更高级的AI模型。

## 安装与运行

### 前提条件

- Python 3.7或更高版本
- pip包管理器

### 安装步骤

1. 克隆项目仓库
   ```bash
   git clone https://github.com/EthanChan050430/bigmodel-flask-app.git
   cd bigmodel-flask-app
   ```

2. 安装依赖
   ```bash
   pip install -r requirements.txt
   ```

3. 配置环境变量
   创建`.env`文件并添加以下内容：
   ```
   API_KEY=your_api_key_here
   API_URL=your_api_url_here
   SECRET_KEY=your_secret_key_here
   ```

4. 启动应用
   ```bash
   python app.py
   ```

5. 在浏览器中访问 http://localhost:3000 使用平台

### 使用Docker部署

如果你安装了Docker和Docker Compose，可以使用以下命令快速部署：

```bash
# 构建并启动容器
docker-compose up -d

# 查看日志
docker-compose logs -f

# 停止服务
docker-compose down
```

## 使用方法

1. **基本对话**：在底部文本框中输入问题并点击发送按钮。
2. **选择模型**：从下拉菜单中选择要使用的AI模型。
3. **智能联网搜索**：
   - 勾选"自动联网搜索"选项，AI会自动分析问题并决定是否需要联网查找信息。
4. **上传文件**：
   - 点击"上传文件"按钮选择文件。
   - 支持的文件类型：PDF、TXT、PNG、JPG、JPEG、GIF、DOCX等。
   - 最大文件大小限制为16MB。
5. **切换主题**：
   - 点击主题切换按钮可以在亮色/暗色模式之间切换。
6. **用户功能**：
   - 注册新账户以访问高级模型。
   - 登录后可以使用所有可用的AI模型。

## 注意事项

- 上传图片时，平台会将图片转换为base64格式传递给API。
- 默认免费模型为GLM4-Flash，其他模型需要登录才能使用。
- 默认管理员账户为：用户名`admin`，密码`admin123`。
- 联网搜索功能仅返回前几条相关结果，不保证结果的完整性和准确性。
- API调用可能会受到网络延迟和服务器负载的影响。
- 所有上传的文件会保存在服务器上的uploads目录中。

## 许可证

MIT

## 贡献

欢迎贡献代码、报告问题或提出新的功能建议。


### 使用Docker部署

如果你安装了Docker和Docker Compose，可以使用以下命令快速部署：

```bash
# 构建并启动容器
docker-compose up -d

# 查看日志
docker-compose logs -f

# 停止服务
docker-compose down
```

## 使用方法

1. **基本对话**：在底部文本框中输入问题并点击发送按钮。
2. **选择模型**：从下拉菜单中选择要使用的AI模型。
3. **AI思考过程**：
   - 勾选"显示思考过程"选项可以查看AI的分析过程。
   - 思考过程默认展开，可点击收起。
4. **智能联网搜索**：
   - 勾选"自动联网搜索"选项，AI会自动分析问题并决定是否需要联网查找信息。
   - 也可在"手动搜索"框中输入关键词进行定向搜索。
5. **流式响应**：
   - 勾选"流式响应"选项，AI的回答将实时呈现，无需等待完整生成。
6. **上传文件**：
   - 点击"上传文件"按钮选择文件。
   - 支持的文件类型：PDF、TXT、PNG、JPG、JPEG、GIF、DOCX等。
   - 最大文件大小限制为16MB。
   - 上传后会自动显示文件预览（支持的格式）。
7. **切换主题**：
   - 点击右下角的主题切换按钮可以在亮色/暗色模式之间切换。

## 技术架构

- 前端：HTML, CSS, JavaScript
- 后端：Python Flask
- 大模型API：多种AI模型API
- 搜索API：自定义搜索服务
- 容器化：Docker & Docker Compose

## 问题排查

1. **应用无法启动**：
   - 确保Python已正确安装且在PATH环境变量中。
   - 检查端口3000是否被占用，如需更改端口，请修改app.config中的PORT值。

2. **上传文件失败**：
   - 确保文件类型受支持且大小不超过16MB。
   - 检查uploads文件夹是否存在且有写入权限。

3. **API请求失败**：
   - 确认网络连接正常。
   - 检查API密钥是否正确。
   - 查看API服务状态是否正常。

4. **Docker相关问题**：
   - 确保Docker服务正在运行。
   - 检查docker-compose.yml中的配置是否正确。
   - 使用`docker-compose logs`命令查看详细错误日志。
## 许可证

MIT

## 贡献

欢迎贡献代码、报告问题或提出新的功能建议。
